# azurerm_iothub_file_upload

Manages the File Upload of an IoT Hub.~> **NOTE:** File upload can be defined either directly on the `azurerm_iothub` resource, or using the `azurerm_iothub_file_upload` resource - but the two cannot be used together. If both are used against the same IoTHub, spurious changes will occur.

## Variables

| Name | Type | Required? |  Default  |  possible values |  Description |
| ---- | ---- | --------- |  ----------- | ----------- | ----------- |
| **var.iothub_id** | string | True | -  |  -  |  The ID of the IoT Hub. Changing this forces a new IoT Hub to be created. | 
| **var.connection_string** | string | True | -  |  -  |  The connection string for the Azure Storage account to which files are uploaded. | 
| **var.container_name** | string | True | -  |  -  |  The name of the root container where the files should be uploaded to. The container need not exist but should be creatable using the `connection_string` specified. | 
| **var.authentication_type** | string | False | `keyBased`  |  `keyBased`, `identityBased`  |  The type used to authenticate against the storage account. Possible values are `keyBased` and `identityBased`. Defaults to `keyBased`. | 
| **var.default_ttl** | string | False | `PT1H`  |  -  |  The period of time for which a file upload notification message is available to consume before it expires, specified as an [ISO 8601 timespan duration](https://en.wikipedia.org/wiki/ISO_8601#Durations). This value must be between 1 minute and 48 hours. Defaults to `PT1H`. | 
| **var.identity_id** | string | False | -  |  -  |  The ID of the User Managed Identity used to authenticate against the storage account. | 
| **var.lock_duration** | string | False | `PT1M`  |  -  |  The lock duration for the file upload notifications queue, specified as an [ISO 8601 timespan duration](https://en.wikipedia.org/wiki/ISO_8601#Durations). This value must be between 5 and 300 seconds. Defaults to `PT1M`. | 
| **var.max_delivery_count** | int | False | `10`  |  -  |  The number of times the IoT Hub attempts to deliver a file upload notification message. Defaults to `10`. | 
| **var.notifications_enabled** | bool | False | `False`  |  -  |  Used to specify whether file notifications are sent to IoT Hub on upload. Defaults to `false`. | 
| **var.sas_ttl** | string | False | `PT1H`  |  -  |  The period of time for which the SAS URI generated by IoT Hub for file upload is valid, specified as an [ISO 8601 timespan duration](https://en.wikipedia.org/wiki/ISO_8601#Durations). This value must be between 1 minute and 24 hours. Defaults to `PT1H`. | 



## Outputs

| Name | Type | Description |
| ---- | ---- | --------- | 
| **iothub_id** | string  | - | 
| **connection_string** | string  | - | 
| **container_name** | string  | - | 
| **authentication_type** | string  | - | 
| **default_ttl** | string  | - | 
| **identity_id** | string  | - | 
| **lock_duration** | string  | - | 
| **max_delivery_count** | int  | - | 
| **notifications_enabled** | bool  | - | 
| **sas_ttl** | string  | - | 
| **id** | string  | The ID of the IoT Hub. | 